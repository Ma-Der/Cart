(()=>{"use strict";var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),e=new Uint8Array(16);function r(){if(!t)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(t){return"string"==typeof t&&n.test(t)};for(var i=[],a=0;a<256;++a)i.push((a+256).toString(16).substr(1));const u=function(t,e,n){var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var u=0;u<16;++u)e[n+u]=a[u];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r}(a)};function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"validateCartItem",value:function(t){if(!(t instanceof d))throw new Error("Argument must be a CartItem object.")}},{key:"validateAmount",value:function(t){if("number"!=typeof t)throw new Error("Argument must be a number.");if(isNaN(t))throw new Error("Argument must be a number.");if(t<0)throw new Error("Argument must be greater or equal to zero.")}},{key:"validateString",value:function(t){if("string"!=typeof t)throw new Error("Argument must be a string.");if(0===t.length)throw new Error("Empty string.")}},{key:"validateNumber",value:function(t){if("number"!=typeof t||isNaN(t))throw new Error("Argument should be a number.");if(!(t>=0))throw new Error("Argument should be more than zero.")}}],null&&c(e.prototype,null),r&&c(e,r),t}();function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;f(this,t),this.uuid=u(),this.name=e,this.category=r,this.price=n-n*o/100,this.discount=o}var e,r;return e=t,(r=[{key:"modifyPrice",value:function(t){s.validateNumber(t),this.price=t}},{key:"modifyName",value:function(t){s.validateString(t),this.name=t}},{key:"modifyDiscount",value:function(t){s.validateNumber(price),this.discount=t}},{key:"addCategory",value:function(t){s.validateString(t),this.category=t}}])&&l(e.prototype,r),t}();function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"noDiscount";v(this,t),s.validateString(r);var n={bestreader:30,midbestreader:25,midreader:20,newreader:5,noDiscount:0};this.uuid=u(),this.discountCode=r,Object.keys(n).find((function(t){return r===t}))?Object.keys(n).some((function(t){r===t&&(e.discount=n[t])})):this.discount=0,this.cartList=[]}var e,r;return e=t,(r=[{key:"addItem",value:function(t,e){s.validateCartItem(t),s.validateAmount(e),this.cartList.push(h(h({},t),{},{amount:e}))}},{key:"deleteItem",value:function(t){s.validateCartItem(t);var e=this.cartList.filter((function(e){return e.uuid!==t.uuid?e:null}));this.cartList=e}},{key:"changeItemAmount",value:function(t,e){s.validateCartItem(t),s.validateAmount(e),function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.cartList.filter((function(e){return e.uuid===t.uuid})),1)[0].amount=e}},{key:"cartSummary",value:function(){var t=this,e=this.cartList.map((function(e){return e.price*e.amount-e.price*e.amount*(t.discount/100)})).reduce((function(t,e){return t+e}));console.log("Your cart is worth ".concat(e.toFixed(2)," PLN."))}},{key:"showCart",value:function(){console.log("\n        Cart:\n            ".concat(this.cartList.map((function(t,e){return"\n            \n            Product ".concat(e+1,"\n\n            id: ").concat(t.uuid,"\n            name: ").concat(t.name,"\n            category: ").concat(t.category,"\n            price: ").concat(t.price,"\n            discount: ").concat(t.discount,"\n            amount: ").concat(t.amount,"\n            ")})),"\n        ")),this.cartSummary()}}])&&b(e.prototype,r),t}(),w=new d("True","Thriller",35,5),O=new d("Vaery","Comedy",50),j=new g("midreader");j.addItem(w,5),j.addItem(O,15),j.changeItemAmount(O,20),j.showCart()})();
//# sourceMappingURL=bundle.js.map